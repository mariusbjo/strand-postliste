<!doctype html>
<html lang="no">
<head>
  <meta charset="utf-8">
  <title>Postliste â€“ Strand kommune</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="web/style.css">
</head>
<body>
  <header class="sticky-header">
    <h1>Postliste â€“ Strand kommune</h1>
    <p class="updated">Oppdatert: {updated}</p>
  </header>

  <!-- Filterseksjon -->
  <section id="filters" class="filters">
    <!-- SÃ¸k i tittel/dokumentID -->
    <input type="text" id="searchInput" placeholder="SÃ¸k i tittel eller dokumentID..." oninput="applySearch()" />

    <!-- SÃ¸k i avsender/mottaker -->
    <input type="text" id="searchAM" placeholder="SÃ¸k i avsender/mottaker..." oninput="applySearch()" />

    <!-- Dato-intervall -->
    <label for="dateFrom">Fra:</label>
    <input type="date" id="dateFrom" onchange="applyDateFilter()" />
    <label for="dateTo">Til:</label>
    <input type="date" id="dateTo" onchange="applyDateFilter()" />

    <!-- Hurtigvalg dato -->
    <button onclick="setQuickRange('week')">Siste uke</button>
    <button onclick="setQuickRange('month')">Siste mÃ¥ned</button>

    <!-- Dokumenttype -->
    <select id="filterType" onchange="applyFilter()">
      <option value="">Alle dokumenttyper</option>
      <option value="InngÃ¥ende">InngÃ¥ende</option>
      <option value="UtgÃ¥ende">UtgÃ¥ende</option>
      <option value="Sakskart">Sakskart</option>
      <option value="MÃ¸tebok">MÃ¸tebok</option>
      <option value="MÃ¸teprotokoll">MÃ¸teprotokoll</option>
      <option value="Saksfremlegg">Saksfremlegg</option>
      <option value="Internt">Internt</option>
    </select>

    <!-- Status -->
    <select id="statusFilter" onchange="applyStatusFilter()">
      <option value="">Alle statuser</option>
      <option value="Publisert">Publisert</option>
      <option value="MÃ¥ bes om innsyn">MÃ¥ bes om innsyn</option>
    </select>

    <!-- Sortering -->
    <select id="sortSelect" onchange="applySort()">
      <option value="dato-desc">Dato nyeste fÃ¸rst</option>
      <option value="dato-asc">Dato eldste fÃ¸rst</option>
      <option value="type-asc">Type Aâ€“Ã…</option>
      <option value="type-desc">Type Ã…â€“A</option>
      <option value="status-publisert">Publisert fÃ¸rst</option>
      <option value="status-innsyn">Innsyn fÃ¸rst</option>
    </select>

    <!-- Antall per side -->
    <select id="perPage" onchange="changePerPage()">
      <option value="25">25 per side</option>
      <option value="50">50 per side</option>
      <option value="100">100 per side</option>
      <option value="3000">Vis alle</option>
    </select>
  </section>

  <!-- Sammendragstekst -->
  <p id="summary"></p>

  <!-- Statistikkseksjon -->
  <section id="stats">
    <h2>ğŸ“ˆ Statistikk</h2>
    <div class="stats-container">
      <div><h3>Publisert per uke</h3><canvas id="chartWeekly"></canvas></div>
      <div><h3>Fordeling pÃ¥ dokumenttyper</h3><canvas id="chartTypes"></canvas></div>
    </div>
  </section>

  <!-- Paginering og innhold -->
  <nav id="pagination-top" class="pagination"></nav>
  <main id="container" class="container"></main>
  <nav id="pagination-bottom" class="pagination"></nav>

  <!-- Data og konfig settes inn av generate_html.py -->
  <script>
    const data = {data_json};
    let perPage = {per_page};
  </script>

  <!-- Eksterne script -->
  <script src="web/script.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</body>
</html>
